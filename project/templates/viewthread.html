{% extends "layout.html" %}

{% block title %}
    Thread
{% endblock %}

{% block main %}
    <button onclick="myFunction()" class="btn btn-primary" >Reply</button>
    <br><br>
    <div id='myDIV' style= "display:none">
        <form action="/reply" method="post">
            <div class="form-group">
                <label for="message">Message</label>
                <textarea class="form-control" name="message" rows="3"></textarea>
            </div>
            <input name="thread_id" hidden value="{{ id }}">
            <br>
            <button class="btn btn-primary" type="submit">Submit</button>
        </form>
    </div>
    <br>
    <br>
    <div class="container-fluid mt-100">
        {% for row in rows %}
        <div class="row">
            <div class="col-md-12">
                <div class="card mb-4">
                    <div class="card-header">
                        <div class="media flex-wrap w-100"> <!-- <img src="https://i.imgur.com/iNmBizf.jpg" class="d-block ui-w-40 rounded-circle" alt=""> -->
                            <div class="media-body ml-3"> <a style="text-align:left" href="javascript:void(0)" data-abc="true">{{ row["user"] }}</a>
                                <div class="text-muted small">test</div>
                            </div>
                            <div class="text-muted small ml-3">
                                <div>Posted <strong>{{ row["date"] }}</strong></div>
                                <div><strong>{{ row["likes"] }}</strong> Likes</div>
                            </div>
                        </div>
                    </div>
                    <div class="card-body d-flex">
                        <p>{{ row["message"] }}</p>
                    </div>
                    <div class="card-footer d-flex flex-wrap justify-content-between align-items-center px-0 pt-0 pb-3">
                        <div class="px-4 pt-3">
                            <button type="button" class="btn btn-success"> Like</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <script>
    function myFunction() {
        var x = document.getElementById('myDIV');
        if (x.style.display === 'none') {
            x.style.display = 'block';
        } else {
            x.style.display = 'none';
        }
    }
    </script>
{% endblock %}